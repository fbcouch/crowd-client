---
- !ruby/struct:VCR::HTTPInteraction
  request: !ruby/struct:VCR::Request
    method: :post
    uri: http://127.0.0.1:8095/crowd/rest/usermanagement/1/session
    body: ! '{"username":"user@example.com","password":"wrong_password"}'
    headers:
      accept:
      - application/json
      authorization:
      - Basic YXBwbGljYXRpb246cGFzc3dvcmQ=
      content-type:
      - application/json
  response: !ruby/struct:VCR::Response
    status: !ruby/struct:VCR::ResponseStatus
      code: 400
      message: Bad Request
    headers:
      server:
      - Apache-Coyote/1.1
      x-embedded-crowd-version:
      - Crowd/2.3.3
      x-crowd-user-management-version:
      - '1.1'
      set-cookie:
      - JSESSIONID=37FED7E33B513A5F1CC987A2EF53D376; Path=/crowd
      content-type:
      - application/json
      transfer-encoding:
      - chunked
      date:
      - Tue, 20 Dec 2011 23:11:36 GMT
    body: ! '{"reason":"INVALID_USER_AUTHENTICATION","message":"Failed to authenticate
      principal, password was invalid"}'
    http_version: '1.1'
- !ruby/struct:VCR::HTTPInteraction
  request: !ruby/struct:VCR::Request
    method: :post
    uri: http://127.0.0.1:8095/crowd/rest/usermanagement/1/session
    body: ! '{"username":"inactive_user@example.com","password":"password"}'
    headers:
      accept:
      - application/json
      authorization:
      - Basic YXBwbGljYXRpb246cGFzc3dvcmQ=
      content-type:
      - application/json
  response: !ruby/struct:VCR::Response
    status: !ruby/struct:VCR::ResponseStatus
      code: 400
      message: Bad Request
    headers:
      server:
      - Apache-Coyote/1.1
      x-embedded-crowd-version:
      - Crowd/2.3.3
      x-crowd-user-management-version:
      - '1.1'
      set-cookie:
      - JSESSIONID=1C3A7BC7272B30EC212D5C09A6709DE9; Path=/crowd
      content-type:
      - application/json
      transfer-encoding:
      - chunked
      date:
      - Tue, 20 Dec 2011 23:11:36 GMT
    body: ! '{"reason":"INACTIVE_ACCOUNT","message":"Account with name <inactive_user@example.com>
      is inactive"}'
    http_version: '1.1'
- !ruby/struct:VCR::HTTPInteraction
  request: !ruby/struct:VCR::Request
    method: :get
    uri: http://127.0.0.1:8095/crowd/rest/usermanagement/1/user/group/nested?groupname=MyGroup&username=user@example.com
    body: !!null 
    headers:
      accept:
      - application/json
      authorization:
      - Basic YXBwbGljYXRpb246cGFzc3dvcmQ=
  response: !ruby/struct:VCR::Response
    status: !ruby/struct:VCR::ResponseStatus
      code: 200
      message: OK
    headers:
      server:
      - Apache-Coyote/1.1
      x-embedded-crowd-version:
      - Crowd/2.3.3
      x-crowd-user-management-version:
      - '1.1'
      set-cookie:
      - JSESSIONID=940120055B2D6769F24CF4EE84A730B2; Path=/crowd
      content-type:
      - application/json
      transfer-encoding:
      - chunked
      date:
      - Tue, 20 Dec 2011 23:11:36 GMT
    body: ! '{"link":{"href":"http://127.0.0.1:8095/crowd/rest/usermanagement/1/group?groupname=MyGroup","rel":"self"},"name":"MyGroup"}'
    http_version: '1.1'
- !ruby/struct:VCR::HTTPInteraction
  request: !ruby/struct:VCR::Request
    method: :get
    uri: http://127.0.0.1:8095/crowd/rest/usermanagement/1/user/group/nested?groupname=OtherGroup&username=user@example.com
    body: !!null 
    headers:
      accept:
      - application/json
      authorization:
      - Basic YXBwbGljYXRpb246cGFzc3dvcmQ=
  response: !ruby/struct:VCR::Response
    status: !ruby/struct:VCR::ResponseStatus
      code: 404
      message: Not Found
    headers:
      server:
      - Apache-Coyote/1.1
      x-embedded-crowd-version:
      - Crowd/2.3.3
      x-crowd-user-management-version:
      - '1.1'
      set-cookie:
      - JSESSIONID=97AC355A0CD64907432443711698FD4B; Path=/crowd
      content-type:
      - application/json
      transfer-encoding:
      - chunked
      date:
      - Tue, 20 Dec 2011 23:11:36 GMT
    body: ! '{"reason":"MEMBERSHIP_NOT_FOUND","message":"The child entity <user@example.com>
      is not a member of the parent <OtherGroup>"}'
    http_version: '1.1'
- !ruby/struct:VCR::HTTPInteraction
  request: !ruby/struct:VCR::Request
    method: :get
    uri: http://127.0.0.1:8095/crowd/rest/usermanagement/1/session/2lb5zatk1T7Q25Xibx0qVA00?expand=user
    body: !!null 
    headers:
      accept:
      - application/json
      authorization:
      - Basic YXBwbGljYXRpb246cGFzc3dvcmQ=
  response: !ruby/struct:VCR::Response
    status: !ruby/struct:VCR::ResponseStatus
      code: 200
      message: OK
    headers:
      server:
      - Apache-Coyote/1.1
      x-embedded-crowd-version:
      - Crowd/2.3.3
      x-crowd-user-management-version:
      - '1.1'
      set-cookie:
      - JSESSIONID=18145B8884C3EA63A65F8954BAEC4624; Path=/crowd
      content-type:
      - application/json
      transfer-encoding:
      - chunked
      date:
      - Tue, 20 Dec 2011 23:11:36 GMT
    body: ! '{"expand":"user","token":"2lb5zatk1T7Q25Xibx0qVA00","user":{"link":{"href":"http://127.0.0.1:8095/crowd/rest/usermanagement/1/user?username=user@example.com","rel":"self"},"name":"user@example.com","first-name":"Example","last-name":"User","display-name":"Example
      User","email":"user@example.com","password":{"link":{"href":"http://127.0.0.1:8095/crowd/rest/usermanagement/1/user/password?username=user@example.com","rel":"edit"}},"active":true,"attributes":{"attributes":[],"link":{"href":"http://127.0.0.1:8095/crowd/rest/usermanagement/1/user/attribute?username=user@example.com","rel":"self"}}},"link":{"href":"http://127.0.0.1:8095/crowd/rest/usermanagement/1/session/2lb5zatk1T7Q25Xibx0qVA00","rel":"self"}}'
    http_version: '1.1'
- !ruby/struct:VCR::HTTPInteraction
  request: !ruby/struct:VCR::Request
    method: :get
    uri: http://127.0.0.1:8095/crowd/rest/usermanagement/1/user/group/nested?username=user@example.com
    body: !!null 
    headers:
      accept:
      - application/json
      authorization:
      - Basic YXBwbGljYXRpb246cGFzc3dvcmQ=
  response: !ruby/struct:VCR::Response
    status: !ruby/struct:VCR::ResponseStatus
      code: 200
      message: OK
    headers:
      server:
      - Apache-Coyote/1.1
      x-embedded-crowd-version:
      - Crowd/2.3.3
      x-crowd-user-management-version:
      - '1.1'
      set-cookie:
      - JSESSIONID=558E365B331CECA0478570DCB73A2970; Path=/crowd
      content-type:
      - application/json
      transfer-encoding:
      - chunked
      date:
      - Tue, 20 Dec 2011 23:11:36 GMT
    body: ! '{"expand":"group","groups":[{"link":{"href":"http://127.0.0.1:8095/crowd/rest/usermanagement/1/group?groupname=MyGroup","rel":"self"},"name":"MyGroup"},{"link":{"href":"http://127.0.0.1:8095/crowd/rest/usermanagement/1/group?groupname=users","rel":"self"},"name":"users"}]}'
    http_version: '1.1'
- !ruby/struct:VCR::HTTPInteraction
  request: !ruby/struct:VCR::Request
    method: :post
    uri: http://127.0.0.1:8095/crowd/rest/usermanagement/1/session
    body: ! '{"username":"user@example.com","password":"password"}'
    headers:
      accept:
      - application/json
      authorization:
      - Basic YXBwbGljYXRpb246cGFzc3dvcmQ=
      content-type:
      - application/json
  response: !ruby/struct:VCR::Response
    status: !ruby/struct:VCR::ResponseStatus
      code: 201
      message: Created
    headers:
      server:
      - Apache-Coyote/1.1
      x-embedded-crowd-version:
      - Crowd/2.3.3
      x-crowd-user-management-version:
      - '1.1'
      set-cookie:
      - JSESSIONID=9B7B15531715698D04FD919E1A93058C; Path=/crowd
      cache-control:
      - no-cache, no-store, no-transform
      location:
      - http://127.0.0.1:8095/crowd/rest/usermanagement/1/session/2lb5zatk1T7Q25Xibx0qVA00
      content-type:
      - application/json
      transfer-encoding:
      - chunked
      date:
      - Tue, 20 Dec 2011 23:11:37 GMT
    body: ! '{"expand":"user","token":"2lb5zatk1T7Q25Xibx0qVA00","user":{"link":{"href":"http://127.0.0.1:8095/crowd/rest/usermanagement/1/user?username=user@example.com","rel":"self"},"name":"user@example.com"},"link":{"href":"http://127.0.0.1:8095/crowd/rest/usermanagement/1/session/2lb5zatk1T7Q25Xibx0qVA00","rel":"self"}}'
    http_version: '1.1'
- !ruby/struct:VCR::HTTPInteraction
  request: !ruby/struct:VCR::Request
    method: :post
    uri: http://127.0.0.1:8095/crowd/rest/usermanagement/1/session/2lb5zatk1T7Q25Xibx0qVA00
    body: ! '{}'
    headers:
      accept:
      - application/json
      authorization:
      - Basic YXBwbGljYXRpb246cGFzc3dvcmQ=
      content-type:
      - application/json
  response: !ruby/struct:VCR::Response
    status: !ruby/struct:VCR::ResponseStatus
      code: 200
      message: OK
    headers:
      server:
      - Apache-Coyote/1.1
      x-embedded-crowd-version:
      - Crowd/2.3.3
      x-crowd-user-management-version:
      - '1.1'
      set-cookie:
      - JSESSIONID=5A935AF11EC4D515126F2E2FF4900C7A; Path=/crowd
      cache-control:
      - no-cache, no-store, no-transform
      content-type:
      - application/json
      transfer-encoding:
      - chunked
      date:
      - Tue, 20 Dec 2011 23:11:37 GMT
    body: ! '{"expand":"user","token":"2lb5zatk1T7Q25Xibx0qVA00","user":{"link":{"href":"http://127.0.0.1:8095/crowd/rest/usermanagement/1/user?username=user@example.com","rel":"self"},"name":"user@example.com"},"link":{"href":"http://127.0.0.1:8095/crowd/rest/usermanagement/1/session/2lb5zatk1T7Q25Xibx0qVA00","rel":"self"}}'
    http_version: '1.1'
- !ruby/struct:VCR::HTTPInteraction
  request: !ruby/struct:VCR::Request
    method: :delete
    uri: http://127.0.0.1:8095/crowd/rest/usermanagement/1/session/2lb5zatk1T7Q25Xibx0qVA00
    body: !!null 
    headers:
      accept:
      - application/json
      authorization:
      - Basic YXBwbGljYXRpb246cGFzc3dvcmQ=
  response: !ruby/struct:VCR::Response
    status: !ruby/struct:VCR::ResponseStatus
      code: 204
      message: No Content
    headers:
      server:
      - Apache-Coyote/1.1
      x-embedded-crowd-version:
      - Crowd/2.3.3
      x-crowd-user-management-version:
      - '1.1'
      set-cookie:
      - JSESSIONID=593CEDE188B0358B2E3F65B746D4DE05; Path=/crowd
      date:
      - Tue, 20 Dec 2011 23:11:37 GMT
    body: !!null 
    http_version: '1.1'
- !ruby/struct:VCR::HTTPInteraction
  request: !ruby/struct:VCR::Request
    method: :post
    uri: http://127.0.0.1:8095/crowd/rest/usermanagement/1/session/2lb5zatk1T7Q25Xibx0qVA00
    body: ! '{}'
    headers:
      accept:
      - application/json
      authorization:
      - Basic YXBwbGljYXRpb246cGFzc3dvcmQ=
      content-type:
      - application/json
  response: !ruby/struct:VCR::Response
    status: !ruby/struct:VCR::ResponseStatus
      code: 404
      message: Not Found
    headers:
      server:
      - Apache-Coyote/1.1
      x-embedded-crowd-version:
      - Crowd/2.3.3
      x-crowd-user-management-version:
      - '1.1'
      set-cookie:
      - JSESSIONID=06E4BACA322EB7BDFD726B1A6EFE07D7; Path=/crowd
      content-type:
      - application/json
      transfer-encoding:
      - chunked
      date:
      - Tue, 20 Dec 2011 23:11:37 GMT
    body: ! '{"reason":"INVALID_SSO_TOKEN","message":"Token does not validate."}'
    http_version: '1.1'
